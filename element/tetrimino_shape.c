#include "tetrimino_shape.h"

#include <allegro5/allegro_color.h>
const unsigned char tetrimino_colors[NUM_TETRIMINO_TYPES][3] = {
    {255, 255, 0},  {187, 235, 102}, {194, 62, 71},  {177, 77, 166},
    {78, 207, 158}, {96, 78, 181},   {199, 177, 67},
};
const unsigned char tetrimino_ghost_block_colors[NUM_TETRIMINO_TYPES][3] = {
    {205, 205, 0},  {137, 185, 52}, {144, 12, 21},  {127, 27, 116},
    {28, 157, 108}, {46, 28, 131},  {149, 127, 17},
};

const TetriminoShape tetrimino_shapes[NUM_TETRIMINO_TYPES][4][4] = {
    // type O
    {
        {{0, 0}, {0, 1}, {1, 0}, {1, 1}},
        {{0, 0}, {0, 1}, {1, 0}, {1, 1}},
        {{0, 0}, {0, 1}, {1, 0}, {1, 1}},
        {{0, 0}, {0, 1}, {1, 0}, {1, 1}},
    },
    // type S
    {
        {{0, 0}, {-1, 0}, {0, -1}, {1, -1}},
        {{0, 0}, {1, 0}, {0, -1}, {1, 1}},
        {{0, 0}, {0, 1}, {-1, 1}, {1, 0}},
        {{0, 0}, {0, 1}, {-1, 0}, {-1, -1}},
    },
    // type Z
    {
        {{0, 0}, {0, -1}, {-1, -1}, {1, 0}},
        {{0, 0}, {1, 0}, {1, -1}, {0, 1}},
        {{0, 0}, {-1, 0}, {0, 1}, {1, 1}},
        {{0, 0}, {-1, 0}, {-1, 1}, {0, -1}},
    },
    // type T
    {
        {{0, 0}, {0, -1}, {-1, 0}, {1, 0}},
        {{0, 0}, {0, -1}, {1, 0}, {0, 1}},
        {{0, 0}, {-1, 0}, {0, 1}, {1, 0}},
        {{0, 0}, {0, -1}, {0, 1}, {-1, 0}},
    },
    // type I
    {
        {{0, 0}, {1, 0}, {-1, 0}, {2, 0}},
        {{0, 0}, {0, 1}, {0, -1}, {0, -2}},
        {{0, 0}, {1, 0}, {-1, 0}, {2, 0}},
        {{0, 0}, {0, 1}, {0, -1}, {0, -2}},
    },
    // type J
    {
        {{0, 0}, {-1, 0}, {-1, -1}, {1, 0}},
        {{0, 0}, {0, 1}, {0, -1}, {1, -1}},
        {{0, 0}, {-1, 0}, {1, 1}, {1, 0}},
        {{0, 0}, {0, 1}, {0, -1}, {-1, 1}},
    },
    // type L
    {
        {{0, 0}, {-1, 0}, {1, 0}, {1, -1}},
        {{0, 0}, {0, 1}, {0, -1}, {1, 1}},
        {{0, 0}, {-1, 0}, {1, 0}, {-1, 1}},
        {{0, 0}, {0, 1}, {0, -1}, {-1, -1}},
    },
};

const SRSoffset srsoffset[2][4][5] = {
    {
        {
            {.x = 0, .y = 0},
            {.x = 0, .y = 0},
            {.x = 0, .y = 0},
            {.x = 0, .y = 0},
            {.x = 0, .y = 0},
        },
        {
            {.x = 0, .y = 0},
            {.x = 1, .y = 0},
            {.x = 1, .y = -1},
            {.x = 0, .y = 2},
            {.x = 1, .y = 2},
        },
        {
            {.x = 0, .y = 0},
            {.x = 0, .y = 0},
            {.x = 0, .y = 0},
            {.x = 0, .y = 0},
            {.x = 0, .y = 0},
        },
        {
            {.x = 0, .y = 0},
            {.x = -1, .y = 0},
            {.x = -1, .y = -1},
            {.x = 0, .y = 2},
            {.x = -1, .y = 2},
        },
    },
    {
        {
            {.x = 0, .y = 0},
            {.x = -1, .y = 0},
            {.x = 2, .y = 0},
            {.x = -1, .y = 0},
            {.x = 2, .y = 0},
        },
        {
            {.x = -1, .y = 0},
            {.x = 0, .y = 0},
            {.x = 0, .y = 0},
            {.x = 0, .y = 1},
            {.x = 0, .y = -2},
        },
        {
            {.x = -1, .y = 1},
            {.x = 1, .y = 1},
            {.x = -2, .y = 1},
            {.x = 1, .y = 0},
            {.x = -2, .y = 0},
        },
        {
            {.x = 0, .y = 1},
            {.x = 0, .y = 1},
            {.x = 0, .y = 1},
            {.x = 0, .y = -1},
            {.x = 0, .y = 2},
        },
    },
};

const RotationStateDiff rotationStateDiff[NUM_ROTATIONSTATEDIFFS] = {
    {.first = 0, .last = 1}, {.first = 1, .last = 0}, {.first = 1, .last = 2},
    {.first = 2, .last = 1}, {.first = 2, .last = 3}, {.first = 3, .last = 2},
    {.first = 3, .last = 0}, {.first = 0, .last = 3},
};
